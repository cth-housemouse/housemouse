<link rel="import" href="stat-bar.html">
<link rel="import" href="../vendor/core-tooltip/core-tooltip.html">

<polymer-element name="stat-widget" attributes="vote">

  <template> <!-- attributes="vote votes"> -->
    <style type="text/css">
     
      h1 {
        padding: 4px 0;
        background-color: black;
        color:#E8E8E8;
        font-family: NittyNormal;
        } 

      p.legendText {
        color: rgba(124, 124, 124, 0.7);
        width: 100px;
        }

      .legendContainer {
        margin: 10px auto;
        }  

      .singleLegend {
        display: inline-block;
        margin: 10px;
      }

      .block {
        height:4px;
        width:100px;
        float: left;
        outline: 1px solid rgba(50, 50, 50, 0.20);
        -webkit-box-shadow: 2px 2px 2px 0px rgba(50, 50, 50, 0.59);
        -moz-box-shadow:    2px 2px 2px 0px rgba(50, 50, 50, 0.59);
        box-shadow:         2px 2px 2px 0px rgba(50, 50, 50, 0.59);

      }

      .validBlock {
        background-color: #69a7dd;  
      }
      
      .notfoundBlock {
        background-color: #edbe36;
      }

      .invalidBlock {
        background-color: #dd9169;
      }

      p.explaination {
        width: 76%;
        margin: 0 auto 20px auto;
        padding: 2%;
        border-radius: 5px;
        background: lightgrey;
        color: black;
        font-family: NittyNormal;
      }

      img.infographic {
        width: 80vw;
        height: 40vh;
        margin: 0 auto;
        display: block;
        background-color: black;
      }

    </style>

      <h1>Comparison_</h1>

      <p class="explaination">We've collected alot of data ourselves, lets compare it to other data! Lets start with the Netherlands. The place for that should be the opendata initiative.</p>
      <img src="" alt="" class="infographic">

      <h1>Problem</h1>
      <p class="explaination">Too bad, we would have loved to tell you more about {{ vote.concepts[0]}}, {{ vote.concepts[1]}} and {{vote.concepts[2]}} in the Netherlands, but the data from openoverheid at our disposal is highly lacking. See the chart below for an optimistic estimation of the amount  of working, semi-working, and non-working links in the data set.</p>

      <div class="legendContainer">
        <div class="singleLegend">
          <div class="block validBlock"></div>
          <p class="legendText">Valid</p>
        </div>
        <div class="singleLegend">
          <div class="block notfoundBlock"></div>
          <p class="legendText">Not Found</p>
        </div>
        <div class="singleLegend">     
          <div class="block invalidBlock"></div>
          <p class="legendText">Invalid</p>
        </div>
      </div>

      <template repeat="{{ chosenConcepts in dataForStatBar }}">
        <stat-bar concept="{{ chosenConcepts }}"></stat-bar>
      </template>

      <h1>Future</h1>
      <p class="explaination">The government should probably work a bit harder on structuring their information.</p>
      <img src="" alt="" class="infographic">
      
  </template>

  <script>    
    Polymer('stat-widget', {
      voteChanged: function(){
        var choices = this.vote.concepts;
        for(var item in this.concepts) {
          var name = this.concepts[item].name;
          for(var i = 0; i < choices.length; i++) {
            if(name === choices[i]) {
              this.dataForStatBar.push(this.concepts[item]);
            }
          }
        }
      },     
      concepts:
      [ 
    { total: 48,
    working: 5,
    semiWorking: 8,
    notWorking: 1,
    name: 'security' },
    { total: 1,
    working: 1,
    semiWorking: 0,
    notWorking: 0,
    name: 'wealth' },
    { total: 63,
    working: 24,
    semiWorking: 0,
    notWorking: 32,
    name: 'transport' },
    { total: 67,
    working: 7,
    semiWorking: 23,
    notWorking: 12,
    name: 'health' },
    { total: 649,
    working: 129,
    semiWorking: 170,
    notWorking: 115,
    name: 'nature' },
    { total: 229,
    working: 114,
    semiWorking: 36,
    notWorking: 5,
    name: 'family' }
    
      ],
      dataForStatBar: []

    });
  </script>
</polymer-element>
