<link rel="import" href="../vendor/polymer/polymer.html">

<link rel="import" href="combine-vote.html">
<link rel="import" href="db-save.html">
<link rel="import" href="db-retrieve.html"> 
<link rel="import" href="stat-widget.html">

<link rel="import" href="map-element.html">

<polymer-element name="cth-housemouse">
	<template>
    <link rel='stylesheet' href='../styles/umbrella-element.css'>

	<header>
    <div class="centerer">
      <h1>What does 'House' mean to you?</h1>
    </div>
	</header>

	<section class="housesarea">
    <div class="centerer">
      <combine-vote singleVote="{{ singleVote }}"></combine-vote>
    </div>
	</section>
		
	
	<db-save combinedvote="{{ singleVote }}"></db-save>
	<db-retrieve publishedData="{{ retrieved }}"></db-retrieve>

	<section class="chartarea">
    <div class="centerer">	
      <map-element class="chart" data="{{retrieved}}"></map-element>
    </div>
	</section>

  <stat-widget vote="{{ singleVote }}"></stat-widget>

	<section class="footerarea">	
		<div class="centerer">	
			<a href="disclaimer.html" class="footer"> disclaimer </a>	
		<div>
	</section>

	</template>
	<script>
		Polymer('cth-housemouse', {
			singleVoteChanged: function(){
				console.log('singleVote from within umbrella:');
				console.log(this.singleVote);
			}
		});
	</script>
</polymer-element>

